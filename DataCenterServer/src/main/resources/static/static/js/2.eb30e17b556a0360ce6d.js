webpackJsonp([2],{GOuX:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("mvHQ"),s=t.n(i),l=t("4Zt/"),o=(t("z/Aw"),t("zL8q")),r={name:"createcode",data:function(){return{base_url:"http://localhost:19081",view:{data:{name:"",packageName:"",modelName:"",tableNames:"",tableAnnotation:"",diskPath:"",files:[]},list:[],show:!1},viewDb:{data:{name:"",packageName:"",modelName:"",tableNames:"",tableAnnotation:"",diskPath:"",files:[],user:"",url:"",password:""},list:[],show:!1}}},created:function(){this.tables()},methods:{tables:function(){var e=this;l.a.post(this.base_url+"/data/object/list",{type:"",isDic:"",name:"",pageInfo:{page:0,pageSize:0}}).then(function(a){a.data.success&&(e.view.list=a.data.data.list)})},confirm:function(){""!=this.view.data.author&&""!=this.view.data.packageName&&""!=this.view.data.modelName?this.view.show=!0:o.Message.error("请填写完整！")},gen:function(){var e=this,a=this.view.list[this.view.data.index];for(var t in console.log("files:"+this.view.data.files),this.view.data.files)switch(this.view.data.files[t]){case"Vue":this.view.data.files[t]=".vue";break;case"Controller":this.view.data.files[t]="Controller.java";break;case"impl&service":this.view.data.files[t]="ServiceImpl.java",this.view.data.files.push("Service.java")}l.a.post(this.base_url+"/data/object/attribute/list",{resId:a.id,pageInfo:{page:0,pageSize:0}}).then(function(t){if(t.data.success){var i=s()(t.data.data),r={resId:a.id,suffixs:e.view.data.files,author:e.view.data.name,tableAnnotation:e.view.data.tableAnnotation,tableName:a.defined,diskPath:e.view.data.diskPath,packageName:e.view.data.packageName,modelName:e.view.data.modelName,isDic:a.isDic,objectList:i.replace('"',"'")};console.log("params",r),l.a.post("http://localhost:8081/generate/code/res",r).then(function(e){e.data.success?o.Message.success("生成代码成功"):o.Message.success("生成代码失败"+t.data.message)}).catch(function(e){o.Message.error("生成代码失败，网络错误。")})}}).catch(function(e){o.Message.error("网络错误。")})},generate:function(){for(var e in console.log("Dbfiles:"+this.viewDb.data.files),this.viewDb.data.files)switch(this.viewDb.data.files[e]){case"Vue":this.viewDb.data.files[e]=".vue";break;case"Controller":this.viewDb.data.files[e]="Controller.java";break;case"impl&service":this.viewDb.data.files[e]="ServiceImpl.java",this.viewDb.data.files.push("Service.java");break;case"dao":this.viewDb.data.files[e]="Dao.java";break;case"mapper":this.viewDb.data.files[e]="Mapper.java";break;case"entity":this.viewDb.data.files[e]=".java"}var a={suffix:this.viewDb.data.files,author:this.viewDb.data.name,tableAnnotation:this.viewDb.data.tableAnnotation,tableName:this.viewDb.data.tableNames,diskPath:this.viewDb.data.diskPath,packageName:this.viewDb.data.packageName,modelName:this.viewDb.data.modelName,user:this.viewDb.data.user,url:this.viewDb.data.url,password:this.viewDb.data.password};l.a.post("http://localhost:8081/gen/code",a).then(function(e){e.data.success?o.Message.success("生成代码成功"):o.Message.success("生成代码失败"+res.data.message)}).catch(function(e){o.Message.error("网络错误。")})},getTables:function(){var e=this;console.log("sssssssssss"+this.viewDb.data.user),""!=this.viewDb.data.user&&""!=this.viewDb.data.url&&""!=this.viewDb.data.password?(this.viewDb.show=!0,l.a.post("http://localhost:8081/gen/table",{user:this.viewDb.data.user,url:this.viewDb.data.url,password:this.viewDb.data.password}).then(function(a){a.data.success?(e.viewDb.list=a.data.data,console.log("list"+e.viewDb.list),o.Message.success("连接数据库成功")):o.Message.success("连接数据库失败"+a.data.message)}).catch(function(e){o.Message.error("生成代码失败，网络错误。")})):o.Message.error("请填写完整！")}}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"resource"},[t("br"),t("br"),t("br"),e._v(" "),t("h3",[e._v("基于数据服务")]),e._v(" "),t("br"),t("br"),t("br"),e._v(" "),t("el-form",{attrs:{inline:"",model:e.view.data,"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"作者姓名"}},[t("el-input",{attrs:{placeholder:"输入姓名"},model:{value:e.view.data.name,callback:function(a){e.$set(e.view.data,"name",a)},expression:"view.data.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"包名"}},[t("el-input",{attrs:{placeholder:"请输入包名"},model:{value:e.view.data.packageName,callback:function(a){e.$set(e.view.data,"packageName",a)},expression:"view.data.packageName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"模块名"}},[t("el-input",{attrs:{placeholder:"请输入模块名"},model:{value:e.view.data.modelName,callback:function(a){e.$set(e.view.data,"modelName",a)},expression:"view.data.modelName"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"生成代码",visible:e.view.show,width:"30%",id:"viewDS"},on:{"update:visible":function(a){e.$set(e.view,"show",a)}}},[t("el-form",{attrs:{model:e.view.data,"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"资源目录",prop:"tableNames"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.view.data.index,callback:function(a){e.$set(e.view.data,"index",a)},expression:"view.data.index"}},e._l(e.view.list,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:a}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"表说明"}},[t("el-input",{attrs:{placeholder:"表说明"},model:{value:e.view.data.tableAnnotation,callback:function(a){e.$set(e.view.data,"tableAnnotation",a)},expression:"view.data.tableAnnotation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保存路径"}},[t("el-input",{attrs:{placeholder:"保存路径"},model:{value:e.view.data.diskPath,callback:function(a){e.$set(e.view.data,"diskPath",a)},expression:"view.data.diskPath"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择文件类型",prop:"files"}},[t("el-checkbox-group",{model:{value:e.view.data.files,callback:function(a){e.$set(e.view.data,"files",a)},expression:"view.data.files"}},[t("p",[t("el-checkbox",{attrs:{label:"Vue"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"Controller"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"impl&service"}})],1)])],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"danger"},on:{click:function(a){e.view.show=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.gen()}}},[e._v("生成代码")])],1)],1),e._v(" "),t("br"),t("br"),t("br"),e._v(" "),t("h3",[e._v("基于数据库")]),e._v(" "),t("br"),t("br"),t("br"),e._v(" "),t("el-form",{attrs:{inline:"",model:e.viewDb.data,"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"作者姓名"}},[t("el-input",{attrs:{placeholder:"输入姓名"},model:{value:e.viewDb.data.name,callback:function(a){e.$set(e.viewDb.data,"name",a)},expression:"viewDb.data.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"包名"}},[t("el-input",{attrs:{placeholder:"请输入包名"},model:{value:e.viewDb.data.packageName,callback:function(a){e.$set(e.viewDb.data,"packageName",a)},expression:"viewDb.data.packageName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"模块名"}},[t("el-input",{attrs:{placeholder:"请输入模块名"},model:{value:e.viewDb.data.modelName,callback:function(a){e.$set(e.viewDb.data,"modelName",a)},expression:"viewDb.data.modelName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.viewDb.data.user,callback:function(a){e.$set(e.viewDb.data,"user",a)},expression:"viewDb.data.user"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"数据库地址"}},[t("el-input",{attrs:{placeholder:"请输入数据库地址"},model:{value:e.viewDb.data.url,callback:function(a){e.$set(e.viewDb.data,"url",a)},expression:"viewDb.data.url"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.viewDb.data.password,callback:function(a){e.$set(e.viewDb.data,"password",a)},expression:"viewDb.data.password"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.getTables()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"生成代码",visible:e.viewDb.show,width:"30%",id:"viewDB"},on:{"update:visible":function(a){e.$set(e.viewDb,"show",a)}}},[t("el-form",{attrs:{model:e.viewDb.data,"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"数据表",prop:"tableNames"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.viewDb.data.tableNames,callback:function(a){e.$set(e.viewDb.data,"tableNames",a)},expression:"viewDb.data.tableNames"}},e._l(e.viewDb.list,function(e,a){return t("el-option",{key:a,attrs:{label:e,value:e}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"表说明"}},[t("el-input",{attrs:{placeholder:"表说明"},model:{value:e.viewDb.data.tableAnnotation,callback:function(a){e.$set(e.viewDb.data,"tableAnnotation",a)},expression:"viewDb.data.tableAnnotation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保存路径"}},[t("el-input",{attrs:{placeholder:"保存路径"},model:{value:e.viewDb.data.diskPath,callback:function(a){e.$set(e.viewDb.data,"diskPath",a)},expression:"viewDb.data.diskPath"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择文件类型",prop:"files"}},[t("el-checkbox-group",{model:{value:e.viewDb.data.files,callback:function(a){e.$set(e.viewDb.data,"files",a)},expression:"viewDb.data.files"}},[t("p",[t("el-checkbox",{attrs:{label:"Vue"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"Controller"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"impl&service"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"dao"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"mapper"}})],1),e._v(" "),t("p",[t("el-checkbox",{attrs:{label:"entity"}})],1)])],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"danger"},on:{click:function(a){e.viewDb.show=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.generate()}}},[e._v("生成代码")])],1)],1)],1)},staticRenderFns:[]},d=t("VU/8")(r,n,!1,null,null,null);a.default=d.exports},mvHQ:function(e,a,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,a,t){var i=t("FeBl"),s=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}}});
//# sourceMappingURL=2.eb30e17b556a0360ce6d.js.map