webpackJsonp([2],{GOuX:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("mvHQ"),i=t.n(l),s=t("4Zt/"),o=(t("z/Aw"),t("zL8q")),n={name:"createcode",data:function(){return{base_url:"http://localhost:19081",view:{data:{name:"",packageName:"",modelName:"",tableNames:"",tableAnnotation:"",diskPath:"",files:""},list:[],show:!1}}},created:function(){this.tables(),console.log("aaaa")},methods:{tables:function(){var e=this;s.a.post(this.base_url+"/data/object/list",{type:"",isDic:"",name:"",pageInfo:{page:0,pageSize:0}}).then(function(a){a.data.success&&(e.view.list=a.data.data.list)})},gen:function(){var e=this,a=this.view.list[this.view.data.index];s.a.post(this.base_url+"/data/object/attribute/list",{resId:a.id,pageInfo:{page:0,pageSize:0}}).then(function(t){if(t.data.success){var l=i()(t.data.data),n={resId:a.id,suffixs:e.view.data.files,author:e.view.data.name,tableAnnotation:e.view.data.tableAnnotation,tableName:a.defined,diskPath:e.view.data.diskPath,packageName:e.view.data.packageName,modelName:e.view.data.modelName,isDic:a.isDic,objectList:l.replace('"',"'")};console.log("params",n),s.a.post("http://localhost:8081/generate/code/res",n).then(function(e){e.data.success?o.Message.success("生成代码成功"):o.Message.success("生成代码失败")}).catch(function(e){o.Message.error("生成代码失败，网络错误。")})}}).catch(function(e){o.Message.error("网络错误。")})}}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"resource"},[t("el-form",{attrs:{inline:"",model:e.view.data,"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"作者姓名"}},[t("el-input",{attrs:{placeholder:"输入姓名"},model:{value:e.view.data.name,callback:function(a){e.$set(e.view.data,"name",a)},expression:"view.data.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"包名"}},[t("el-input",{attrs:{placeholder:"请输入包名"},model:{value:e.view.data.packageName,callback:function(a){e.$set(e.view.data,"packageName",a)},expression:"view.data.packageName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"模块名"}},[t("el-input",{attrs:{placeholder:"请输入模块名"},model:{value:e.view.data.modelName,callback:function(a){e.$set(e.view.data,"modelName",a)},expression:"view.data.modelName"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.view.show=!0}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"生成代码",visible:e.view.show,width:"30%",id:"viewSearch"},on:{"update:visible":function(a){e.$set(e.view,"show",a)}}},[t("el-form",{attrs:{model:e.view.data,"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"资源目录",prop:"tableNames"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.view.data.index,callback:function(a){e.$set(e.view.data,"index",a)},expression:"view.data.index"}},e._l(e.view.list,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:a}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"表说明"}},[t("el-input",{attrs:{placeholder:"表说明"},model:{value:e.view.data.tableAnnotation,callback:function(a){e.$set(e.view.data,"tableAnnotation",a)},expression:"view.data.tableAnnotation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保存路径"}},[t("el-input",{attrs:{placeholder:"保存路径"},model:{value:e.view.data.diskPath,callback:function(a){e.$set(e.view.data,"diskPath",a)},expression:"view.data.diskPath"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择文件类型",prop:"files"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.view.data.files,callback:function(a){e.$set(e.view.data,"files",a)},expression:"view.data.files"}},[t("el-option",{attrs:{label:"Vue",value:".vue"}}),e._v(" "),t("el-option",{attrs:{label:"Controller",value:"Controller.java"}}),e._v(" "),t("el-option",{attrs:{label:"impl",value:"ServiceImpl.java"}}),e._v(" "),t("el-option",{attrs:{label:"service",value:"Service.java"}}),e._v(" "),t("el-option",{attrs:{label:"dao",value:"Dao.java"}}),e._v(" "),t("el-option",{attrs:{label:"mapper",value:"Mapper.xml"}}),e._v(" "),t("el-option",{attrs:{label:"entity",value:".java"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"danger"},on:{click:function(a){e.view.show=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.gen()}}},[e._v("生成代码")])],1)],1)],1)},staticRenderFns:[]},c=t("VU/8")(n,r,!1,null,null,null);a.default=c.exports},mvHQ:function(e,a,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,a,t){var l=t("FeBl"),i=l.JSON||(l.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}}});
//# sourceMappingURL=2.f3dbbfad8f1cd9565c64.js.map