webpackJsonp([7],{"7mti":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),s=a.n(i),o=a("4Zt/"),n=(a("z/Aw"),a("zL8q")),d={name:"demo",data:function(){return{base_url:"http://localhost:19081",dataObjectId:12,viewTable:{domId:"",className:"",pageInfo:{page:1,count:0,pageSize:50},data:[]},viewSearch:{data:{userName:""},show:!1},viewAdd:{data:{},show:!1},viewEdit:{index:"",data:"",show:!1},viewDelet:{show:!1,item:{},index:""},select:{},dataList:[]}},created:function(){this.getTableData({pageInfo:this.viewTable.pageInfo,dataObjectId:this.dataObjectId,condition:[]})},mounted:function(){},methods:{handleEdit:function(e,t){console.log("edit",e,t),this.viewEdit.data=s()({},e),this.viewEdit.index=t,this.viewEdit.show=!0},editSingle:function(){var e=this;o.a.post("/data/update",{dataObejctId:this.dataObejctId,data:this.viewEdit.data,condition:[{key:"id",condition:"equals",value:this.viewEdit.data.id}]}).then(function(t){t.data.success?(n.Message.success("修改成功"),e.$set(e.viewTable.data,e.viewEdit.index,e.viewEdit.data)):n.Message.error("修改失败。")}).catch(function(e){n.Message.error("网络错误，修改失败。")}),this.viewEdit.show=!1},handleDelet:function(e,t){console.log("delet",e),this.viewDelet.item=e,this.viewDelet.index=t,this.viewDelet.show=!0},deletSingle:function(){var e=this;o.a.post("/data/delete",{dataObjectId:this.dataObjectId,condition:[{key:"id",condition:"equals",value:this.viewDelet.item.id}]}).then(function(t){t.data.success?(n.Message.success("删除成功"),e.getTableData({pageInfo:e.viewTable.pageInfo,condition:e.changeParams(e.viewSearch.data),dataObjectId:e.dataObjectId})):n.Message.error("删除失败")}).catch(function(e){n.Message.error("网络错误，删除失败")}),this.viewDelet.show=!1},handleAdd:function(e){console.log("添加新成员"),this.viewAdd.show=!0},addSingle:function(){var e=this,t=s()({},this.viewAdd.data);for(var a in t.dataObjectId=this.dataObjectId,o.a.post("/data/add",t).then(function(a){"true"==a.data.success?(n.Message.success("添加成功"),e.viewTable.data.push(t)):n.Message.error("添加失败。")}).catch(function(e){n.Message.error("添加失败，网络错误。")}),this.viewAdd.data)this.viewAdd.data[a]="";this.viewAdd.show=!1},handleSearch:function(){this.getTableData({pageInfo:this.viewTable.pageInfo,condition:this.changeParams(this.viewSearch.data),dataObjectId:this.dataObjectId})},getTableData:function(e){var t=this;o.a.post("/data/retrieve",e).then(function(e){e.data.success?t.viewTable.data=e.data.data.rtnData:n.Message.error("查询表格数据错误"+e.data.message)}).catch(function(e){n.Message.error("查询表格数据出错，网络错误。")})},handleSizeChange:function(e){this.viewTable.pageInfo.page=1,this.viewTable.pageInfo.pageSize=e,handleSearch()},handleCurrentChange:function(e){handleSearch()},changeParams:function(e){var t=[];for(index in e){var a={};a.key=index,a.condition="equals",a.value=e[index],t.push(a)}return t}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"resource"},[a("el-form",{attrs:{inline:"",model:e.viewSearch.data,"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"搜索对象"}},[a("el-input",{attrs:{placeholder:"输入名称/说明关键词"},model:{value:e.viewSearch.data.name,callback:function(t){e.$set(e.viewSearch.data,"name",t)},expression:"viewSearch.data.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.viewSearch.show=!0}}},[e._v("更多搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.handleAdd()}}},[e._v("创建")])],1)],1),e._v(" "),a("div",{staticClass:"viewTableClass"},[a("el-table",{attrs:{data:e.viewTable.data,border:"","header-cell-style":{background:"#f9fafc"}}},[a("el-table-column",{attrs:{prop:"userName",label:"用户姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleEdit(t.row,t.$index)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDelet(t.row,t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pageArea",attrs:{"current-page":e.viewTable.pageInfo.page,"page-sizes":[100,200,300,400],"page-size":e.viewTable.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"创建数据对象",visible:e.viewSearch.show,width:"30%",id:"viewSearch"},on:{"update:visible":function(t){e.$set(e.viewSearch,"show",t)}}},[a("el-form",{attrs:{model:e.viewSearch.data,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.viewSearch.data.userName,callback:function(t){e.$set(e.viewSearch.data,"userName",t)},expression:"viewSearch.data.userName"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.viewSearch.show=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建数据对象",visible:e.viewAdd.show,width:"30%",id:"viewAdd"},on:{"update:visible":function(t){e.$set(e.viewAdd,"show",t)}}},[a("el-form",{attrs:{model:e.viewAdd.data,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.viewAdd.data.userName,callback:function(t){e.$set(e.viewAdd.data,"userName",t)},expression:"viewAdd.data.userName"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.viewAdd.show=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addSingle()}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改数据集属性",visible:e.viewEdit.show,width:"30%",id:"viewEdit"},on:{"update:visible":function(t){e.$set(e.viewEdit,"show",t)}}},[a("el-form",{attrs:{model:e.viewEdit.data,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.viewEdit.data.userName,callback:function(t){e.$set(e.viewEdit.data,"userName",t)},expression:"viewEdit.data.userName"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.viewEdit.show=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editSingle()}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除",visible:e.viewDelet.show,width:"30%",id:"viewDelet"},on:{"update:visible":function(t){e.$set(e.viewDelet,"show",t)}}},[a("div",{staticClass:"modal-body"},[e._v("\n      您确定删除要删除该项吗?\n    ")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.viewDelet.show=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deletSingle()}}},[e._v("确定")])],1)])],1)},staticRenderFns:[]},r=a("VU/8")(d,l,!1,null,null,null);t.default=r.exports}});
//# sourceMappingURL=7.d0c97647375c8ec33f1d.js.map