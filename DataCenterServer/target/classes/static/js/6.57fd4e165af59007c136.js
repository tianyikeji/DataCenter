webpackJsonp([6],{Ld6Z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("4Zt/");var l=a("z/Aw"),i=a("zL8q"),n={name:"viewDataObj",components:{},data:function(){return{headerTitle:"数据",resId:"",viewType:!1,attrs:[],viewTable:{domId:"",className:"",pageInfo:{page:1,count:0,pageSize:100,total:10},data:[]},viewSearch:{data:[{key:"",condition:"",value:""}]}}},created:function(){this.resId=parseInt(this.$route.path.split("/")[2]),this.getAttrs(),this.getTableData()},methods:{handleAddSer:function(){this.viewSearch.data.push({key:"",condition:"",value:""})},handleDelThis:function(e){this.viewSearch.data.splice(e,1),0==this.viewSearch.data.length&&this.viewSearch.data.push({})},getAttrs:function(){var e=this;l.a.getDataObjectAttrsList({resId:this.resId,pageInfo:{page:0,pageSize:0}}).then(function(t){e.attrs=t.data.list}).catch(function(e){console.log(e),i.Message.error("获取属性列表失败。",e)})},getTableData:function(){var e=this;console.log("ser",this.viewSearch.data),l.a.viewData({condition:this.viewSearch.data,dataObjectId:this.resId,pageInfo:this.viewTable.pageInfo}).then(function(t){e.viewTable.data=t.data.rtnData,e.viewTable.pageInfo.total=t.data.pageInfo.total}).catch(function(e){console.log(e),i.Message.error(e)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("div",{staticClass:"breadxian"}),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.headerTitle))])],1),e._v(" "),a("div",{staticClass:"breadbottom"}),e._v(" "),a("br"),e._v(" "),a("el-form",{attrs:{inline:"",model:e.viewSearch,"label-position":"right","label-width":"80px"}},[a("div",{staticStyle:{display:"inline-block"}},e._l(e.viewSearch.data,function(t,l){return a("div",{key:l},[a("el-form-item",{attrs:{label:"字段",width:"100"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}},e._l(e.attrs,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.columnName}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.condition,callback:function(a){e.$set(t,"condition",a)},expression:"item.condition"}},[a("el-option",{attrs:{label:">",value:"great than"}}),e._v(" "),a("el-option",{attrs:{label:"=",value:"equals"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"less than"}})],1)],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"输入名称/说明关键词"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),e._v(" "),a("i",{staticClass:"fa fa-minus-circle",staticStyle:{"font-size":"20px,color:red"},on:{click:function(t){e.handleDelThis(l)}}})],1)})),e._v(" "),a("el-form-item",[a("i",{staticClass:"fa fa-plus-circle",staticStyle:{"font-size":"30px"},on:{click:function(t){e.handleAddSer()}}})]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getTableData()}}},[e._v("查询")])],1)],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"viewTableClass"},[a("el-table",{attrs:{data:e.viewTable.data,border:"","header-cell-style":{background:"#f9fafc"}}},[a("el-table-column",{attrs:{type:"index",width:"100"}}),e._v(" "),e._l(e.attrs,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.columnName,label:e.name,width:"150px"}})})],2)],1),e._v(" "),a("el-pagination",{staticClass:"pageArea",attrs:{"current-page":e.viewTable.pageInfo.page,"page-sizes":[100,200,300,400],"page-size":e.viewTable.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.viewTable.pageInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]},r=a("VU/8")(n,s,!1,null,null,null);t.default=r.exports}});
//# sourceMappingURL=6.57fd4e165af59007c136.js.map